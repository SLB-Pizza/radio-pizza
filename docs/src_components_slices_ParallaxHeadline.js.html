

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> src/components/slices/ParallaxHeadline.js</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">HMBK Gatsby Docs</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Global</h3><ul><li><a href="global.html#addErrorToNotices">addErrorToNotices</a></li><li><a href="global.html#BottomNav">BottomNav</a></li><li><a href="global.html#CMSIssueMessageType">CMSIssueMessageType</a></li><li><a href="global.html#dateString">dateString</a></li><li><a href="global.html#displayCollectionPlaylistDetails">displayCollectionPlaylistDetails</a></li><li><a href="global.html#FallbackImage">FallbackImage</a></li><li><a href="global.html#FeaturesHighlightItems">FeaturesHighlightItems</a></li><li><a href="global.html#getCMSEntryName">getCMSEntryName</a></li><li><a href="global.html#getNavbarHeights">getNavbarHeights</a></li><li><a href="global.html#guide">guide</a></li><li><a href="global.html#HomeEvents">HomeEvents</a></li><li><a href="global.html#parseViewports">parseViewports</a></li><li><a href="global.html#playlistShuffle">playlistShuffle</a></li><li><a href="global.html#prioritySetter">prioritySetter</a></li><li><a href="global.html#processPublicationDates">processPublicationDates</a></li><li><a href="global.html#SingleFeatureCard">SingleFeatureCard</a></li><li><a href="global.html#sliceZone">sliceZone</a></li><li><a href="global.html#templateFieldCheck">templateFieldCheck</a></li><li><a href="global.html#TopicPageHero">TopicPageHero</a></li><li><a href="global.html#TopicPageHeroDetails">TopicPageHeroDetails</a></li><li><a href="global.html#TopicPageHighlightSection">TopicPageHighlightSection</a></li><li><a href="global.html#TopNav">TopNav</a></li><li><a href="global.html#UpcomingShow">UpcomingShow</a></li></ul></div><div class="category"><h2>CMS</h2><h3>Global</h3><ul><li><a href="global.html#ContentHelper">ContentHelper</a></li><li><a href="global.html#ImageHelper">ImageHelper</a></li><li><a href="global.html#ImageModal">ImageModal</a></li><li><a href="global.html#ResponsiveImage">ResponsiveImage</a></li></ul></div><div class="category"><h2>CMS
 Slices</h2><h3>Global</h3><ul><li><a href="global.html#ArticleHeadline">ArticleHeadline</a></li><li><a href="global.html#Blockquote">Blockquote</a></li><li><a href="global.html#FullWidthImage">FullWidthImage</a></li><li><a href="global.html#ImageRow">ImageRow</a></li><li><a href="global.html#OneImageAndText">OneImageAndText</a></li><li><a href="global.html#ParallaxHeadline">ParallaxHeadline</a></li><li><a href="global.html#TextBlock">TextBlock</a></li><li><a href="global.html#TwoImagesAndText">TwoImagesAndText</a></li></ul></div><div class="category"><h2>Layout Helper</h2><h3>Global</h3><ul><li><a href="global.html#EventHeader">EventHeader</a></li><li><a href="global.html#LeadFeatureDetails">LeadFeatureDetails</a></li><li><a href="global.html#ResidentBio">ResidentBio</a></li><li><a href="global.html#SingleResident">SingleResident</a></li><li><a href="global.html#TagButtons">TagButtons</a></li></ul></div><div class="category"><h2>LayoutHelper</h2><h3>Global</h3><ul><li><a href="global.html#LeadFeatureHero">LeadFeatureHero</a></li></ul></div><div class="category"><h2>Pages</h2><h3>Global</h3><ul><li><a href="global.html#CMSGuideIndex">CMSGuideIndex</a></li><li><a href="global.html#CollectionsIndexPage">CollectionsIndexPage</a></li><li><a href="global.html#EventsIndexPage">EventsIndexPage</a></li><li><a href="global.html#FeaturesIndex">FeaturesIndex</a></li><li><a href="global.html#IndexPage">IndexPage</a></li><li><a href="global.html#MixesIndexPage">MixesIndexPage</a></li><li><a href="global.html#ResidentIndex">ResidentIndex</a></li><li><a href="global.html#ScheduleIndexPage">ScheduleIndexPage</a></li><li><a href="global.html#SupportPage">SupportPage</a></li></ul></div><div class="category"><h2>Site Elements</h2><h3>Global</h3><ul><li><a href="global.html#DateSelectorButton">DateSelectorButton</a></li><li><a href="global.html#HeroCarousel">HeroCarousel</a></li><li><a href="global.html#HomeFeatures">HomeFeatures</a></li><li><a href="global.html#HomeMixes">HomeMixes</a></li><li><a href="global.html#MixPlayOverlay">MixPlayOverlay</a></li><li><a href="global.html#RadioPlayer">RadioPlayer</a></li><li><a href="global.html#ResidentSocialLinks">ResidentSocialLinks</a></li><li><a href="global.html#SingleScheduleEntryRow">SingleScheduleEntryRow</a></li><li><a href="global.html#SlideGenerator">SlideGenerator</a></li></ul></div><div class="category"><h2>Templates</h2><h3>Global</h3><ul><li><a href="global.html#CMSGuideTemplate">CMSGuideTemplate</a></li><li><a href="global.html#EventsTemplate">EventsTemplate</a></li><li><a href="global.html#FeatureTemplate">FeatureTemplate</a></li><li><a href="global.html#MixTemplate">MixTemplate</a></li><li><a href="global.html#ResidentTemplate">ResidentTemplate</a></li></ul></div><div class="category"><h2>Testing</h2><h3>Global</h3><ul><li><a href="global.html#PuppeteerTesting">PuppeteerTesting</a></li></ul></div><div class="category"><h2>Utilities</h2><h3>Global</h3><ul><li><a href="global.html#formatDateTime">formatDateTime</a></li><li><a href="global.html#formatNextShow">formatNextShow</a></li><li><a href="global.html#getBlockquoteStyling">getBlockquoteStyling</a></li><li><a href="global.html#getResidentLinks">getResidentLinks</a></li><li><a href="global.html#getResidentString">getResidentString</a></li><li><a href="global.html#htmlSerializer">htmlSerializer</a></li><li><a href="global.html#linkResolver">linkResolver</a></li><li><a href="global.html#makeCollectionDispatch">makeCollectionDispatch</a></li><li><a href="global.html#mappableDataFilter">mappableDataFilter</a></li><li><a href="global.html#SingleMixCard">SingleMixCard</a></li></ul></div><div class="category"><h2>Validation</h2><h3>Global</h3><ul><li><a href="global.html#cmsNodeValidator">cmsNodeValidator</a></li><li><a href="global.html#mixValidator">mixValidator</a></li><li><a href="global.html#uidAnalyzer">uidAnalyzer</a></li><li><a href="global.html#uidAssembler">uidAssembler</a></li><li><a href="global.html#uidValidator">uidValidator</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>src/components/slices/ParallaxHeadline.js</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect } from 'react'
import { RichText } from 'prismic-reactjs'

/**
 * @category CMS
 *  Slices
 * @function
 * @param {Object} slice - data object from Prismic CMS that contains all content data needed to create the HeadlineBlock slice
 * @returns {jsx}
 */

function ParallaxHeadline({ cta, hook, imgObj }) {
  // const {
  //   feature_headline_img,
  //   feature_category,
  //   feature_subcategory,
  //   feature_headline,
  //   feature_subtitle,
  //   feature_author,
  //   feature_author_pic,
  // } = slice.primary;

  const [bgOpacity, setBGOpacity] = useState(1)

  useEffect(() => {
    let bgIMG = document.getElementById('parallax-headline') // works
    const bgHeight = bgIMG.clientHeight

    const calculateOpacity = (scrollY, height) => {
      const halfHeight = 0.5 * height

      if (scrollY > halfHeight) {
        return 0
      }
      return (halfHeight - scrollY) / halfHeight
    }

    const onScroll = () =>
      setBGOpacity(calculateOpacity(window.scrollY, bgHeight))

    window.addEventListener('scroll', onScroll)

    return function cleanup() {
      window.removeEventListener('scroll', onScroll)
    }
  }, [])

  return (
    &lt;>
      &lt;section
        className="hero is-fullheight-with-navbar homepage-hero"
        id="parallax-headline"
        style={{
          backgroundImage: `url(${imgObj.url})`,
          opacity: bgOpacity,
        }}
      >&lt;/section>
      &lt;section
        className="container headline-block"
        style={{
          marginTop: '-62.5vh',
        }}
      >
        &lt;div className="columns">
          &lt;div className="column">
            &lt;div className="content">
              &lt;h1 className="title is-size-1-widescreen is-size-2-desktop is-size-3-tablet is-size-4-mobile">
                {RichText.asText(cta)}
              &lt;/h1>
              &lt;h3 className="is-size-4-desktop is-size-6-touch has-text-centered">
                {RichText.asText(hook)}
              &lt;/h3>
            &lt;/div>
          &lt;/div>
        &lt;/div>
      &lt;/section>
      &lt;section
        className="container"
        style={{
          marginTop: '-5.75rem',
        }}
      >
        &lt;div className="columns is-multiline">
          &lt;div
            className="column is-12"
            style={{
              backgroundColor: 'black',
              borderTopLeftRadius: '.75rem',
              borderTopRightRadius: '.75rem',
            }}
          >
            &lt;div className="content">
              &lt;p>
                Andromeda aries auriga camelopardalis cancer canes venatici
                centaurus cepheus columba corona austrina eridanus hercules
                lacerta leo leo minor lupus lyra norma octans ophiuchus pisces
                pyxis scorpius sculptor scutum taurus tucana vela virgo.
                Andromeda cetus corona borealis cygnus delphinus indus lepus
                ophiuchus pyxis sculptor tucana ursa major vela. Caelum
                camelopardalis canes venatici canis major cassiopeia corona
                borealis crater crux cygnus dorado gemini grus hydra hydrus leo
                lepus lupus monoceros octans perseus puppis scorpius triangulum
                triangulum australe.
              &lt;/p>
              &lt;p>
                Aquila carina coma berenices dorado equuleus fornax grus indus
                leo lyra mensa ophiuchus orion perseus pictor piscis austrinus
                reticulum sagitta triangulum triangulum australe vulpecula. Apus
                auriga cancer canes venatici canis major canis minor carina
                centaurus chamaeleon circinus corona borealis crater delphinus
                grus libra lupus mensa monoceros norma octans piscis austrinus
                puppis pyxis reticulum tucana ursa major ursa minor virgo.
                Cancer capricornus circinus crater leo mensa perseus reticulum
                scorpius telescopium volans.
              &lt;/p>
              &lt;p>
                Andromeda aries auriga camelopardalis cancer canes venatici
                centaurus cepheus columba corona austrina eridanus hercules
                lacerta leo leo minor lupus lyra norma octans ophiuchus pisces
                pyxis scorpius sculptor scutum taurus tucana vela virgo.
                Andromeda cetus corona borealis cygnus delphinus indus lepus
                ophiuchus pyxis sculptor tucana ursa major vela. Caelum
                camelopardalis canes venatici canis major cassiopeia corona
                borealis crater crux cygnus dorado gemini grus hydra hydrus leo
                lepus lupus monoceros octans perseus puppis scorpius triangulum
                triangulum australe.
              &lt;/p>
              &lt;p>
                Aquila carina coma berenices dorado equuleus fornax grus indus
                leo lyra mensa ophiuchus orion perseus pictor piscis austrinus
                reticulum sagitta triangulum triangulum australe vulpecula. Apus
                auriga cancer canes venatici canis major canis minor carina
                centaurus chamaeleon circinus corona borealis crater delphinus
                grus libra lupus mensa monoceros norma octans piscis austrinus
                puppis pyxis reticulum tucana ursa major ursa minor virgo.
                Cancer capricornus circinus crater leo mensa perseus reticulum
                scorpius telescopium volans.
              &lt;/p>
            &lt;/div>
          &lt;/div>
        &lt;/div>
      &lt;/section>
    &lt;/>
  )
}

export default ParallaxHeadline
</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

</body>
</html>
